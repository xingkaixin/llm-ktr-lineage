# LLM-KTR-Lineage 文档索引

## 项目概述

LLM-KTR-Lineage 是一个基于LLM的Pentaho Kettle转换文件分析工具，用于自动解析KTR文件并生成字段映射文档。

## 文档结构

### 核心文档

| 文档 | 描述 |
|------|------|
| [架构设计](architecture.md) | 系统架构、组件设计和扩展性 |
| [功能链路](functional-flow.md) | 详细的功能流程和业务逻辑 |
| [数据流](data-flow.md) | 数据流转、转换和存储策略 |
| [API参考](api-reference.md) | 完整的API接口文档 |
| [部署指南](deployment-guide.md) | 安装、配置和运行说明 |

### 快速开始

1. **环境准备**: 参考[部署指南](deployment-guide.md#环境要求)
2. **安装配置**: 参考[部署指南](deployment-guide.md#安装步骤)
3. **运行应用**: 参考[部署指南](deployment-guide.md#运行应用)

### 核心概念

- **KTR文件**: Pentaho Kettle转换文件，XML格式
- **字段映射**: 源字段到目标字段的转换关系
- **LLM分析**: 使用大语言模型解析KTR文件结构
- **异步处理**: 并发处理多个文件，提高效率

### 技术特性

- **异步处理**: 使用asyncio实现高效并发
- **错误恢复**: 单文件失败不影响整体处理
- **进度监控**: 实时显示处理进度
- **详细日志**: 结构化日志记录和错误追踪
- **配置驱动**: 环境变量管理敏感信息

### 输出格式

处理成功的KTR文件将生成Markdown格式的字段映射文档：

```markdown
| 源字段 | 目标字段 | 变换路径 | 变换类型 | 变换说明 |
|--------|----------|----------|----------|----------|
| ID_BATCH | batch_id | 日志表 | 字段映射 | 批次ID |
| CHANNEL_ID | channel_id | 日志表 | 字段映射 | 通道ID |
```

### 支持的文件

- **输入**: `.ktr` 文件 (Pentaho Kettle转换文件)
- **输出**: `.md` 文件 (Markdown格式字段映射文档)
- **配置**: `.env` 文件 (环境变量配置)

### 扩展性

项目设计支持以下扩展：
- 不同的LLM提供商集成
- 自定义输出格式
- 批量处理优化
- 插件化架构

## 相关链接

- [项目代码](./main.py)
- [配置文件示例](./.env.example)
- [依赖配置](./pyproject.toml)